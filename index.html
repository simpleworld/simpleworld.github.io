<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>Browser AI Assistant</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* ===== ОСНОВНІ СТИЛІ ===== */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: "Segoe UI", Arial, sans-serif;
}

body {
    background: radial-gradient(circle at top, #1b1f2a, #0b0e14);
    color: #eaeaea;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* ===== КОНТЕЙНЕР ===== */
#app {
    width: 100%;
    max-width: 900px;
    height: 95vh;
    background: rgba(20, 24, 36, 0.95);
    border-radius: 16px;
    box-shadow: 0 0 40px rgba(0,0,0,0.6);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* ===== ХЕДЕР ===== */
header {
    padding: 16px 20px;
    background: linear-gradient(90deg, #5b5cff, #7a3cff);
    font-weight: bold;
    letter-spacing: 1px;
    text-align: center;
}

/* ===== ЧАТ ===== */
#chat {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    scroll-behavior: smooth;
}

.message {
    max-width: 75%;
    padding: 14px 16px;
    margin-bottom: 14px;
    border-radius: 14px;
    animation: fadeIn 0.4s ease;
    line-height: 1.5;
    white-space: pre-wrap;
}

.user {
    background: #2e3250;
    margin-left: auto;
    border-bottom-right-radius: 4px;
}

.ai {
    background: #1f243d;
    margin-right: auto;
    border-bottom-left-radius: 4px;
}

/* ===== ВВІД ===== */
#input-area {
    display: flex;
    padding: 16px;
    background: #0f1220;
    border-top: 1px solid #2a2f4a;
}

#userInput {
    flex: 1;
    padding: 14px;
    background: #1a1f33;
    border: none;
    border-radius: 10px;
    color: #fff;
    font-size: 16px;
    outline: none;
}

#sendBtn {
    margin-left: 12px;
    padding: 0 26px;
    background: linear-gradient(135deg, #5b5cff, #7a3cff);
    border: none;
    border-radius: 10px;
    color: #fff;
    font-size: 16px;
    cursor: pointer;
}

#sendBtn:hover {
    opacity: 0.9;
}

/* ===== АНІМАЦІЯ ===== */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>

<div id="app">
    <header>AI Assistant (Browser)</header>

    <div id="chat"></div>

    <div id="input-area">
        <input id="userInput" type="text" placeholder="Напиши будь-яке питання..." />
        <button id="sendBtn">Надіслати</button>
    </div>
</div>

<script>
/* =========================================================
   ПАМʼЯТЬ ДІАЛОГУ
========================================================= */
const memory = [];

/* =========================================================
   ЕЛЕМЕНТИ
========================================================= */
const chat = document.getElementById("chat");
const input = document.getElementById("userInput");
const sendBtn = document.getElementById("sendBtn");

/* =========================================================
   ДОДАВАННЯ ПОВІДОМЛЕНЬ
========================================================= */
function addMessage(text, sender) {
    const div = document.createElement("div");
    div.className = "message " + sender;
    div.textContent = text;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
}

/* =========================================================
   АНАЛІЗ ЗАПИТУ
========================================================= */
function analyzeQuestion(text) {
    const t = text.toLowerCase();

    if (t.includes("привіт") || t.includes("hello")) {
        return "Привіт! Я універсальний AI-асистент. Можеш питати про програмування, ігри, навчання або будь-що інше.";
    }

    if (t.includes("хто ти")) {
        return "Я браузерний штучний інтелект, який працює без сервера. Я аналізую текст, використовую логіку, шаблони та памʼять діалогу.";
    }

    if (t.includes("html") || t.includes("css") || t.includes("javascript")) {
        return explainProgramming(t);
    }

    if (t.includes("гра") || t.includes("game")) {
        return explainGames(t);
    }

    if (t.includes("як") || t.includes("how")) {
        return stepByStep(t);
    }

    if (t.length < 4) {
        return "Можеш, будь ласка, сформулювати питання детальніше? Я хочу зрозуміти тебе правильно.";
    }

    return generateGenericAnswer(text);
}

/* =========================================================
   ПРОГРАМУВАННЯ
========================================================= */
function explainProgramming(t) {
    let response = "Ось логічне пояснення:\n\n";

    if (t.includes("html")) {
        response += "HTML відповідає за структуру сторінки: заголовки, блоки, кнопки, поля введення.";
    }
    if (t.includes("css")) {
        response += "\nCSS відповідає за зовнішній вигляд: кольори, анімації, розташування елементів.";
    }
    if (t.includes("javascript")) {
        response += "\nJavaScript відповідає за логіку: події, обчислення, інтерактивність.";
    }

    response += "\n\nРазом ці технології створюють повноцінний веб-додаток.";
    return response;
}

/* =========================================================
   ІГРИ
========================================================= */
function explainGames(t) {
    return (
        "Створення ігор зазвичай складається з кількох частин:\n\n" +
        "1. Логіка гри (правила, фізика, умови перемоги)\n" +
        "2. Графіка (2D або 3D обʼєкти)\n" +
        "3. Керування (клавіатура, миша, сенсор)\n" +
        "4. Оптимізація та баланс\n\n" +
        "Якщо хочеш — можу пояснити або показати приклад коду."
    );
}

/* =========================================================
   ПОКРОКОВІ ВІДПОВІДІ
========================================================= */
function stepByStep(t) {
    return (
        "Я поясню по кроках:\n\n" +
        "1. Визначаємо ціль\n" +
        "2. Розбиваємо задачу на частини\n" +
        "3. Розвʼязуємо кожну частину окремо\n" +
        "4. Перевіряємо результат\n\n" +
        "Якщо хочеш — напиши конкретну задачу."
    );
}

/* =========================================================
   УНІВЕРСАЛЬНА ГЕНЕРАЦІЯ
========================================================= */
function generateGenericAnswer(text) {
    const variants = [
        "Це цікаве питання. Якщо подивитись логічно, то відповідь залежить від контексту.",
        "Я проаналізував твій запит і можу сказати наступне:",
        "З практичної точки зору це можна пояснити так:",
        "Є кілька способів подивитись на це питання."
    ];

    const intro = variants[Math.floor(Math.random() * variants.length)];

    return (
        intro + "\n\n" +
        "Ти запитав: \"" + text + "\"\n\n" +
        "Моя відповідь базується на логічному аналізі, досвіді та попередньому контексті розмови. " +
        "Якщо хочеш глибше — уточни деталі."
    );
}

/* =========================================================
   ВІДПРАВКА
========================================================= */
function sendMessage() {
    const text = input.value.trim();
    if (!text) return;

    addMessage(text, "user");
    memory.push({ role: "user", content: text });

    input.value = "";

    setTimeout(() => {
        const answer = analyzeQuestion(text);
        addMessage(answer, "ai");
        memory.push({ role: "ai", content: answer });
    }, 300);
}

/* =========================================================
   ПОДІЇ
========================================================= */
sendBtn.addEventListener("click", sendMessage);

input.addEventListener("keydown", e => {
    if (e.key === "Enter") sendMessage();
});

/* =========================================================
   ПРИВІТАННЯ
========================================================= */
addMessage(
    "Вітаю! Я повністю браузерний AI-чат.\nПостав будь-яке питання — я відповім.",
    "ai"
);
</script>

</body>
</html>
