<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>Simple FPS</title>
<style>
    body { margin:0; overflow:hidden; background:black; }
    canvas { display:block; }
    #ui {
        position:fixed;
        top:10px;
        left:10px;
        color:white;
        font-family:Arial;
        font-size:16px;
    }
</style>
</head>
<body>

<div id="ui">Зброя: <span id="weapon">AK-47</span></div>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

// ГРАВЕЦЬ
let player = { x:0, y:0, speed:3 };
let keys = {};
let weapon = "AK-47";

// БУДІВЛІ
let buildings = [
    {x:-200,y:-200,w:150,h:150},
    {x:200,y:-100,w:200,h:200},
    {x:-300,y:200,w:200,h:150}
];

// КЕРУВАННЯ
addEventListener("keydown", e => {
    keys[e.key.toLowerCase()] = true;

    if(e.key === "1") weapon="AK-47";
    if(e.key === "2") weapon="Glock";
    if(e.key === "3") weapon="Knife";
    document.getElementById("weapon").innerText = weapon;
});
addEventListener("keyup", e => keys[e.key.toLowerCase()] = false);

// СТРІЛЬБА
addEventListener("mousedown", ()=>{
    console.log("Fire:", weapon);
});

// РУХ
function move(){
    if(keys["w"]) player.y -= player.speed;
    if(keys["s"]) player.y += player.speed;
    if(keys["a"]) player.x -= player.speed;
    if(keys["d"]) player.x += player.speed;
}

// МАЛЮВАННЯ
function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // ЗЕМЛЯ
    ctx.fillStyle = "#2a2a2a";
    ctx.fillRect(0, canvas.height/2, canvas.width, canvas.height/2);

    // НЕБО
    ctx.fillStyle = "#87ceeb";
    ctx.fillRect(0,0,canvas.width,canvas.height/2);

    // БУДІВЛІ
    ctx.fillStyle = "#555";
    buildings.forEach(b=>{
        let bx = canvas.width/2 + (b.x - player.x);
        let by = canvas.height/2 + (b.y - player.y);
        ctx.fillRect(bx, by, b.w, b.h);
    });

    // ПРИЦІЛ
    ctx.strokeStyle="white";
    ctx.beginPath();
    ctx.moveTo(canvas.width/2 -10, canvas.height/2);
    ctx.lineTo(canvas.width/2 +10, canvas.height/2);
    ctx.moveTo(canvas.width/2, canvas.height/2 -10);
    ctx.lineTo(canvas.width/2, canvas.height/2 +10);
    ctx.stroke();
}

// ЦИКЛ
function loop(){
    move();
    draw();
    requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
