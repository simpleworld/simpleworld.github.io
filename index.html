<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OMEGA AI | Autonomous Neural System</title>
    <style>
        /* =========================================
           CSS: –°–£–ß–ê–°–ù–ò–ô AI –Ü–ù–¢–ï–†–§–ï–ô–°
           ========================================= */
        :root {
            --bg-dark: #0b0e14;
            --bg-panel: #151a23;
            --primary: #00f2ff;
            --accent: #7000ff;
            --text-main: #e2e8f0;
            --text-muted: #94a3b8;
            --border: rgba(255, 255, 255, 0.1);
            --user-msg: #2563eb;
            --ai-msg: #1e293b;
            --code-bg: #0d1117;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Segoe UI', system-ui, sans-serif;
            height: 100vh;
            display: flex;
            overflow: hidden;
        }

        .app-container { display: flex; width: 100%; height: 100%; }

        /* –ë–û–ö–û–í–ê –ü–ê–ù–ï–õ–¨ */
        .sidebar {
            width: 280px;
            background: var(--bg-panel);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            padding: 20px;
            transition: 0.3s;
        }

        .brand { display: flex; align-items: center; gap: 12px; margin-bottom: 40px; }
        .logo-orb {
            width: 24px; height: 24px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            box-shadow: 0 0 15px var(--primary);
            animation: pulse 3s infinite;
        }

        .modes { display: flex; flex-direction: column; gap: 8px; flex: 1; }
        .mode-btn {
            background: transparent; border: 1px solid transparent;
            color: var(--text-muted); padding: 12px; text-align: left;
            border-radius: 10px; cursor: pointer; display: flex; gap: 10px;
        }
        .mode-btn.active { 
            background: rgba(0, 242, 255, 0.1); 
            border-color: var(--primary); color: var(--primary); 
        }

        /* –ß–ê–¢ */
        .chat-interface { flex: 1; display: flex; flex-direction: column; position: relative; }
        
        .top-bar {
            padding: 15px 25px; border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(21, 26, 35, 0.8); backdrop-filter: blur(10px);
        }

        .chat-history {
            flex: 1; overflow-y: auto; padding: 30px;
            display: flex; flex-direction: column; gap: 20px;
        }

        .message { display: flex; gap: 15px; max-width: 850px; width: 100%; margin: 0 auto; animation: fadeIn 0.4s ease; }
        .message.user-message { flex-direction: row-reverse; }

        .avatar {
            width: 38px; height: 38px; border-radius: 8px;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; flex-shrink: 0;
        }
        .ai-message .avatar { background: linear-gradient(135deg, var(--primary), var(--accent)); color: #fff; }
        .user-message .avatar { background: #475569; color: #fff; }

        .content {
            background: var(--ai-msg); padding: 15px 20px; border-radius: 15px;
            line-height: 1.6; font-size: 0.95rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .user-message .content { background: var(--user-msg); border-bottom-right-radius: 2px; }
        .ai-message .content { border-bottom-left-radius: 2px; border-left: 3px solid var(--primary); }

        /* –ì–ï–ù–ï–†–ê–¶–Ü–Ø –ó–û–ë–†–ê–ñ–ï–ù–¨ –¢–ê –ö–û–î–£ */
        canvas { border-radius: 8px; margin-top: 10px; max-width: 100%; border: 1px solid var(--primary); }
        pre { background: var(--code-bg); padding: 15px; border-radius: 8px; margin: 10px 0; overflow-x: auto; border: 1px solid #30363d; color: #79c0ff; font-family: 'Consolas', monospace; }

        /* –í–í–ï–î–ï–ù–ù–Ø */
        .input-area { padding: 25px; background: var(--bg-panel); border-top: 1px solid var(--border); }
        .input-wrapper { max-width: 850px; margin: 0 auto; position: relative; }
        textarea {
            width: 100%; background: #0d1117; border: 1px solid var(--border);
            border-radius: 12px; color: #fff; padding: 15px 60px 15px 15px;
            font-size: 1rem; resize: none; height: 56px; outline: none; transition: 0.3s;
        }
        textarea:focus { border-color: var(--primary); box-shadow: 0 0 10px rgba(0, 242, 255, 0.2); }
        
        #send-btn {
            position: absolute; right: 10px; top: 10px;
            background: var(--primary); border: none; width: 36px; height: 36px;
            border-radius: 8px; cursor: pointer; transition: 0.2s;
        }

        .loader { display: none; margin-bottom: 10px; color: var(--primary); font-size: 0.8rem; text-align: center; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(0, 242, 255, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(0, 242, 255, 0); } 100% { box-shadow: 0 0 0 0 rgba(0, 242, 255, 0); } }
    </style>
</head>
<body>

    <div class="app-container">
        <aside class="sidebar">
            <div class="brand"><div class="logo-orb"></div><h2>OMEGA AI</h2></div>
            <nav class="modes">
                <button class="mode-btn active" onclick="app.setMode('chat')">üí¨ –ß–∞—Ç-–∞—Å–∏—Å—Ç–µ–Ω—Ç</button>
                <button class="mode-btn" onclick="app.setMode('code')">üíª –ö–æ–¥–∏–Ω–≥-—Ä–µ–∂–∏–º</button>
                <button class="mode-btn" onclick="app.setMode('image')">üé® –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è Image</button>
            </nav>
            <div style="font-size: 0.7rem; color: var(--text-muted);">System: v4.0.2 Local Node</div>
        </aside>

        <main class="chat-interface">
            <header class="top-bar"><h3 id="mode-display">General Intelligence</h3><button onclick="app.clear()" style="background:none; border:none; color:red; cursor:pointer;">Clear</button></header>
            <div class="chat-history" id="chat-history"></div>
            <div class="input-area">
                <div id="loader" class="loader">OMEGA –æ–±—Ä–æ–±–ª—è—î –Ω–µ–π—Ä–æ–Ω–∏...</div>
                <div class="input-wrapper">
                    <textarea id="user-input" placeholder="–ó–∞–ø–∏—Ç–∞–π—Ç–µ —â–æ—Å—å..."></textarea>
                    <button id="send-btn">üöÄ</button>
                </div>
            </div>
        </main>
    </div>

    <script>
        /**
         * =========================================
         * OMEGA AI ENGINE: LOGIC & GENERATION
         * =========================================
         */

        class OmegaEngine {
            constructor() {
                this.history = [];
                this.context = "general";
                this.knowledge = this.getKnowledgeBase();
            }

            async process(input) {
                const query = input.toLowerCase();
                this.history.push({ role: 'user', text: input });

                // 1. IMAGE GENERATION DETECTION
                if (query.includes('–Ω–∞–º–∞–ª—é–π') || query.includes('image') || query.includes('–∫–∞—Ä—Ç–∏–Ω–∫—É')) {
                    return { type: 'image', prompt: query.replace(/–Ω–∞–º–∞–ª—é–π|image|–∫–∞—Ä—Ç–∏–Ω–∫—É/g, '').trim() };
                }

                // 2. MATH DETECTION
                if (/[\d\+\-\*\/\=]/.test(query) && !/[a-z]/.test(query)) {
                    try {
                        const res = eval(query.replace(/[^-()\d/*+.]/g, ''));
                        return { type: 'text', text: `–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—á–∏—Å–ª–µ–Ω–Ω—è: **${res}**. –Ø –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤ –≤–±—É–¥–æ–≤–∞–Ω–∏–π –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–π –º–æ–¥—É–ª—å.` };
                    } catch(e) {}
                }

                // 3. NLP & PATTERN MATCHING
                for (let category in this.knowledge) {
                    if (this.knowledge[category].triggers.some(t => query.includes(t))) {
                        const responses = this.knowledge[category].answers;
                        return { type: 'text', text: responses[Math.floor(Math.random() * responses.length)] };
                    }
                }

                // 4. COMPLEX PROGRAMMING ANSWERS
                if (query.includes('–∫–æ–¥') || query.includes('js') || query.includes('python')) {
                    return this.generateCode(query);
                }

                return { type: 'text', text: "–Ø –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞–≤ –≤–∞—à –∑–∞–ø–∏—Ç. –ú–æ—ó—Ö –ø–æ—Ç–æ—á–Ω–∏—Ö –ª–æ–∫–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è —Ç–æ—á–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –∞–ª–µ —è –º–æ–∂—É —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑–º–æ–¥–µ–ª—é–≤–∞—Ç–∏ –ª–æ–≥—ñ—á–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –∞–±–æ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫–æ–¥/–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–ª—è —Ü—å–æ–≥–æ." };
            }

            generateCode(q) {
                if (q.includes('python')) return { type: 'text', text: "–û—Å—å –ø—Ä–∏–∫–ª–∞–¥ –Ω–∞ Python:\n```python\ndef omega_ai():\n    print('Hello World')\n\nomega_ai()```" };
                return { type: 'text', text: "–û—Å—å –±–∞–∑–æ–≤–∏–π —à–∞–±–ª–æ–Ω JS:\n```javascript\nconst system = 'Omega';\nconsole.log(system + ' online');\n```" };
            }

            getKnowledgeBase() {
                return {
                    hello: { triggers: ['–ø—Ä–∏–≤—ñ—Ç', '—Ö–∞–π', '–≤—ñ—Ç–∞—é'], answers: ['–ü—Ä–∏–≤—ñ—Ç! –Ø OMEGA. –ß–∏–º –¥–æ–ø–æ–º–æ–∂—É?', '–í—ñ—Ç–∞—é! –°–∏—Å—Ç–µ–º–∏ –æ–Ω–ª–∞–π–Ω.'] },
                    who: { triggers: ['—Ö—Ç–æ —Ç–∏', '—Ç–≤–æ—î —ñ–º', '—â–æ —Ç–∏ —Ç–∞–∫–µ'], answers: ['–Ø OMEGA ‚Äî –∞–≤—Ç–æ–Ω–æ–º–Ω–∏–π –®–Ü, —â–æ –ø—Ä–∞—Ü—é—î –ø–æ–≤–Ω—ñ—Å—Ç—é —É –≤–∞—à–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ.', '–Ø –Ω–µ–π—Ä–æ-—Å–∏–º—É–ª—è—Ü—ñ—è, —Å—Ç–≤–æ—Ä–µ–Ω–∞ –Ω–∞ —á–∏—Å—Ç–æ–º—É JS.'] },
                    capabilities: { triggers: ['—â–æ –≤–º—ñ—î—à', '–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ'], answers: ['–Ø –º–æ–∂—É: –ø–∏—Å–∞—Ç–∏ –∫–æ–¥, —Ä–∞—Ö—É–≤–∞—Ç–∏, –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Canvas —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É—Ç–∏ —Ç–µ–∫—Å—Ç.'] }
                };
            }
        }

        class VisualCortex {
            generate(prompt, ctx) {
                const w = 500, h = 300;
                ctx.canvas.width = w; ctx.canvas.height = h;
                
                // Background
                const grad = ctx.createLinearGradient(0,0, w, h);
                grad.addColorStop(0, '#0f172a'); grad.addColorStop(1, '#334155');
                ctx.fillStyle = grad; ctx.fillRect(0,0,w,h);

                // Procedural Art
                for(let i=0; i<40; i++) {
                    ctx.beginPath();
                    ctx.strokeStyle = `hsla(${Math.random()*360}, 70%, 50%, 0.5)`;
                    ctx.lineWidth = Math.random()*3;
                    if(prompt.includes('–∫–æ–ª–æ')) ctx.arc(Math.random()*w, Math.random()*h, Math.random()*50, 0, Math.PI*2);
                    else ctx.rect(Math.random()*w, Math.random()*h, Math.random()*100, Math.random()*100);
                    ctx.stroke();
                }
                ctx.fillStyle = "#fff"; ctx.font = "14px Arial";
                ctx.fillText(`OMEGA Gen: ${prompt}`, 20, 280);
            }
        }

        const app = {
            engine: new OmegaEngine(),
            visual: new VisualCortex(),
            
            init() {
                document.getElementById('send-btn').onclick = () => this.send();
                document.getElementById('user-input').onkeydown = (e) => { if(e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); this.send(); } };
                this.addMsg('ai', '–°–∏—Å—Ç–µ–º–∞ OMEGA —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞. –ß–µ–∫–∞—é –Ω–∞ –≤–∞—à—ñ –≤–∫–∞–∑—ñ–≤–∫–∏.');
            },

            async send() {
                const input = document.getElementById('user-input');
                const val = input.value.trim();
                if(!val) return;

                this.addMsg('user', val);
                input.value = '';
                document.getElementById('loader').style.display = 'block';

                const response = await this.engine.process(val);
                
                setTimeout(() => {
                    document.getElementById('loader').style.display = 'none';
                    if(response.type === 'image') {
                        const canvas = document.createElement('canvas');
                        this.visual.generate(response.prompt, canvas.getContext('2d'));
                        this.addMsg('ai', `–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—é –¥–ª—è: "${response.prompt}"`);
                        document.querySelector('.ai-message:last-child .content').appendChild(canvas);
                    } else {
                        this.addMsg('ai', response.text);
                    }
                }, 800);
            },

            addMsg(role, text) {
                const hist = document.getElementById('chat-history');
                const div = document.createElement('div');
                div.className = `message ${role}-message`;
                
                // Markdown-like code formatting
                let html = text.replace(/```(.*?)\n([\s\S]*?)```/g, '<pre><code>$2</code></pre>');
                html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

                div.innerHTML = `<div class="avatar">${role==='ai'?'Œ©':'U'}</div><div class="content">${html}</div>`;
                hist.appendChild(div);
                hist.scrollTop = hist.scrollHeight;
            },

            setMode(m) {
                document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                event.target.classList.add('active');
                document.getElementById('mode-display').innerText = m.toUpperCase() + " ENGINE ACTIVE";
            },

            clear() { document.getElementById('chat-history').innerHTML = ''; }
        };

        app.init();
    </script>
</body>
</html>
